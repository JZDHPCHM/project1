<!DOCTYPE html>
<html th:replace="template/inspinia_singlemenu/inspinia.html::html">
<link rel="stylesheet" type="text/css" th:href="@{/webjars/inspinia/2.7.0/css1/font-awesome.min.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/webjars/inspinia/2.7.0/css1/reset.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/webjars/inspinia/2.7.0/css1/style.css}"/>
<head>
<title>预警历史</title>
<style type="text/css">
	.form-group {
	    margin-bottom: 10px;
	}
	.form-group:last-child {
	    margin-bottom: 0;
	}
	.ibox-content{
		padding: 10px;
	}
	/* .chosen-search{
		display: none;
	} */
</style>
</head>
<body class="top-navigation">
	<div id="wrapper" style="margin-left: 0;">
		<div id="page-wrapper" class="gray-bg">
			<!-- 菜单开始end -->
			<div class="wrapper wrapper-content">
				<div class="row">
	                <div class="col-lg-12">
	                	<div class="ibox float-e-margins" style="margin-bottom: 0;">
	                		<div class="ibox-title">
	                            <h5>查询</h5>
	                        </div>
	                        <div class="ibox-content" style="padding-bottom: 0;">
	                        	<form class="form-horizontal">
									<div class="form-group">
										<label class="col-sm-1 control-label">承租人名称</label>
										<div class="col-sm-2">
											<input id="lesseeName" type="text" placeholder="模糊查找" class="form-control">
										</div>
										<label class="col-sm-1 control-label">预警时间</label>
										<div class="col-sm-3">
											<div class="input-daterange input-group" id="datepicker">
												<input id="date2" type="text" class="form-control"
													name="date2" placeholder="请选择开始日期" readonly /> <span
													class="input-group-addon">至</span> <input id="date1"
													type="text" class="form-control" name="date1"
													placeholder="请选择结束日期" readonly />
											</div>
										</div>
										<div class="col-sm-5">
											<b id="btn-query" class="btn btn-success">查询</b>
											<b id="btn-reset" class="btn btn-success">重置</b>
											<b id="btn-download" class="btn btn-success">下载</b>
										</div>
									</div>
								</form>
	                        </div>
	                	</div>
	                	<div class="ibox-tools">
                            <a class="collapse-link collapse-link1">
                                <i class="fa fa-chevron-down"></i>
                            </a>
                        </div>
						<div id="hideContent" class="ibox-content" style="padding-bottom: 10px; border: 1px solid #e7eaec; margin-bottom: 10px;display: none;">
	                        	<form class="form-horizontal">
									<div class="form-group">
										<label class="col-sm-1 control-label chevron-hide">关联人类型</label>
										<div class="col-sm-2 chevron-hide">
											<select class="chosen-select" id="">
												<option value="">请选择</option>
												<option value="">母公司</option>
												<option value="">子公司</option>
												<option value="">兄弟公司</option>
												<option value="">担保方</option>
												<option value="">供应商</option>
											</select>
										</div>
										<label class="col-sm-1 control-label">预警级别</label>
										<div class="col-sm-2">
											<select class="chosen-select" id="">
												<option value="">请选择</option>
												<option value="">高</option>
												<option value="">中</option>
											</select>
										</div>
										<label class="col-sm-1 control-label">预警类别</label>
										<div class="col-sm-2">
											<select class="chosen-select" id="">
												<option value="">请选择</option>
												<option value="">工商信息</option>
												<option value="">舆情信息</option>
												<option value="">诉讼处罚信息</option>
											</select>
										</div>
										<label class="col-sm-1 control-label">预警小类</label>
										<div class="col-sm-2">
											<!-- <select class="chosen-select" name="warnSmalt" id="warnSmalt">
						 						<option value=''>请选择</option>
						 						<option th:each="option: ${@frSystemDictionaryService.getDictionaryMap('R001',#locale)}" th:value="${option.key}" th:text="${option.value}"></option>
												<option th:each="option: ${@frSystemDictionaryService.getDictionaryMap('R002',#locale)}" th:value="${option.key}" th:text="${option.value}"></option>
												<option th:each="option: ${@frSystemDictionaryService.getDictionaryMap('R003',#locale)}" th:value="${option.key}" th:text="${option.value}"></option>
											</select> -->
											<input id="warningSmall" type="text" placeholder="模糊查找" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-1 control-label">预警规则</label>
										<div class="col-sm-2">
											<!-- <select class="chosen-select" id="warnRule" name="warnRule">
												<option value=''>请选择</option>
												<option th:each="option: ${@AftWarnInfoServiceImpl.findRuleName()}" th:value="${option.key}" th:text="${option.value}"></option>
											</select> -->
											<input id="warningRule" type="text" placeholder="模糊查找" class="form-control">
										</div>
										<label class="col-sm-1 control-label">业务流程</label>
										<div class="col-sm-2">
											<select class="chosen-select" id="">
												<option value="">请选择</option>
												<option value="">张大帅</option>
												<option value="">张中帅</option>
												<option value="">张小帅</option>
											</select>
										</div>
										<label class="col-sm-1 control-label">处置状态</label>
										<div class="col-sm-2">
											<select class="chosen-select" id="">
												<option value="">请选择</option>
												<option value="">已阅</option>
												<option value="">审批中</option>
											</select>
										</div>
										<label class="col-sm-1 control-label">关联人名称</label>
										<div class="col-sm-2">
											<input id="associatesName" type="text" placeholder="模糊查找" class="form-control" />
										</div>
									</div>
									<div class="form-group">										
										<label class="col-sm-1 control-label">处置日期</label>
										<div class="col-sm-3">
											<div class="input-daterange input-group" id="datepicker">
												<input id="date4" type="text" class="form-control"
													name="date4" placeholder="请选择开始日期" readonly /> <span
													class="input-group-addon">至</span> <input id="date3"
													type="text" class="form-control" name="date3"
													placeholder="请选择结束日期" readonly />
											</div>
										</div>										
									</div>
								</form>
	                        </div>	                            
						<div class="jqGrid_wrapper">
                            <table id="table_list"></table>
                            <div id="pager_list"></div>
                        </div>    	    
	                </div>
		        </div>
			</div>
		</div>
	</div>
</body>
<script>
$(".collapse-link").click(function(){
	$("#hideContent").slideToggle();
	
});
$(function(){
  /* var lesseeNames = [
      {
        label: "北京星光拓诚投资有限公司"
      },
      {
        label: "北京华远意通热力科技股份有限公司 "    
      }
    ]; */ 
     $("#lesseeName").autocomplete({
         minLength: 0,
         source: "/bpMaster/fuzzySearch",
         focus: function(event, ui) {
            $("#lesseeName").val(ui.item.label);
            return false;
          },
          select: function(event, ui) {
             $("#lesseeName").val(ui.item.label);
          }
     })
     var warningSmalls = [
      {
        //value: "北京星光拓诚投资有限公司"
        label: "行政处罚-停止接受新业务"
      },
      {
        //value: "北京华远意通热力科技股份有限公司 "
        label: "行政处罚-限制业务范围 "    
      }
    ]; 
     $("#warningSmall").autocomplete({
         minLength: 0,
         source: warningSmalls,
         focus: function(event, ui) {
            $("#warningSmall").val(ui.item.label);
            return false;
          },
          select: function(event, ui) {
             $("#warningSmall").val(ui.item.label);
          }
     })
     var warningRules = [
      {
        //value: "北京星光拓诚投资有限公司"
        label: "企业出现中风险行政处罚-吊销业务许可或执照信息"
      },
      {
        //value: "北京华远意通热力科技股份有限公司 "
        label: "企业出现中风险行政处罚-没收违法所得和非法财物信息"    
      }
    ]; 
     $("#warningRule").autocomplete({
         minLength: 0,
         source: warningRules,
         focus: function(event, ui) {
            $("#warningRule").val(ui.item.label);
            return false;
          },
          select: function(event, ui) {
             $("#warningRule").val(ui.item.label);
          }
     })
     
     var associatesNames = [
         {
           //value: "北京星光拓诚投资有限公司"
           label: "企业出现中风险行政处罚-吊销业务许可或执照信息"
         },
         {
           //value: "北京华远意通热力科技股份有限公司 "
           label: "企业出现中风险行政处罚-没收违法所得和非法财物信息"    
         }
       ]; 
        $("#associatesName").autocomplete({
            minLength: 0,
            source: associatesNames,
            focus: function(event, ui) {
               $("#associatesName").val(ui.item.label);
               return false;
             },
             select: function(event, ui) {
                $("#associatesName").val(ui.item.label);
             }
        })
}) 
</script>
<script type="text/javascript">
	//重置按钮
	$("#btn-reset").click(function(){
		$(".form-horizontal input").val("");
		$(".form-horizontal select").val("");
		$(".form-horizontal select").trigger("chosen:updated");
	});
	$('.chosen-select').chosen({width: "100%"});
	/* $('#formSearch .input-daterange').datepicker({
		keyboardNavigation: false,
	    forceParse: false,
	    autoclose: true
	}); */
	$("#date1").datepicker({
		changeYear : true,
		changeMonth : true,
		numberOfMonths : 1,
		showButtonPanel: true,
		onSelect : function(selectedDate) {
		$("#date2").datepicker("option", "minDate", selectedDate);  }
	});		 
	$("#date2").datepicker({
		changeYear : true,
		changeMonth : true,
		numberOfMonths : 1,
		showButtonPanel: true,
		onSelect : function(selectedDate) {
		$("#date1").datepicker("option", "maxDate", selectedDate);  }
	});
	$("#date3").datepicker({
		changeYear : true,
		changeMonth : true,
		numberOfMonths : 1,
		showButtonPanel: true,
		onSelect : function(selectedDate) {
		$("#date4").datepicker("option", "minDate", selectedDate);  }
	});		 
	$("#date4").datepicker({
		changeYear : true,
		changeMonth : true,
		numberOfMonths : 1,
		showButtonPanel: true,
		onSelect : function(selectedDate) {
		$("#date3").datepicker("option", "maxDate", selectedDate);  }
	});
	$(document).ready(function(){		
		var mydata = [
	        {name1: "北京星光拓诚投资有限公司", name2: "主承租人", name3: "中", name4: "工商信息", name5: "股东及投资", name6: "股东股权质押", name7: "股东名称为张章，持股比为25%，出质股权数额为100000元", name8: "2019-09-26", name9: "张大帅", name10: "已阅", name11: "2019-09-26", name12: "悦康药业集团有限公司"}
	    ];
		//
		$("#table_list").jqGrid({
			url : "",
			recordtext: "显示：{0} - {1}，总数：{2} ",
		    emptyrecords: "本次查询无数据！",
		    loadtext: "读取中...",
		    pgtext : "第 {0}页， 共{1}页",
			mtype : "post",
	      	//datatype: "json",
	        data: mydata,
	        datatype: "local",
	        height: 210,
	        scrollOffset : 0,
	        autowidth: true,
	        shrinkToFit: true,
	        //autoScroll: false,//当autoScroll和shrinkToFit均为false时，会出现行滚动条
            //shrinkToFit: false,//是否列宽度自适应。true=适应 false=不适应
	        prmNames: {
	            page: "page"   // 表示请求页码的参数名称
	        },
	        rowNum: 20,
	        rowList: [10, 20, 30],
	        colNames:['承租人名称','关联人类型','预警级别','预警类别','预警小类','预警规则', '预警详情', '预警时间', '业务流程','处置状态','处置日期','关联人名称'],
	        colModel:[
	            {name:'name1',index:'name1', editable: true},
	            {name:'name2',index:'name2', editable: true},
	            {name:'name3',index:'name3', editable: true},
	            {name:'name4',index:'name4', editable: true},
	            {name:'name5',index:'name5', editable: true},
	            {name:'name6',index:'name6', editable: true},
	            {name:'name7',index:'name7', editable: true},
	            {name:'name8',index:'name8', editable: true},
	            {name:'name9',index:'name9', editable: true},
	            {name:'name10',index:'name10', editable: true},
	            {name:'name11',index:'name11', editable: true},
	            {name:'name12',index:'name12', editable: true}
	        ],
	        pager: "#pager_list",
	        viewrecords: true,
	        caption: "",
	        add: true,
	        edit: true,
	        addtext: 'Add',
	        edittext: 'Edit',
	        rownumbers: true,
	        rownumWidth: 60,
	        hidegrid: false,
	        jsonReader: {
	        	root: "data",
	        	records: "recordsTotal",
	        	repeatitems: false,
	        	id: "0"
	        }
	    });
		//$("#table_list").jqGrid('setFrozenColumns');//设置冻结列生效
		$("#table_list").jqGrid('setLabel','rn','序号',{'text-align':'center','vertical-align':'middle'},'');
		// Setup buttons
        $("#table_list").jqGrid('navGrid', '#pager_list',
                {edit: false, add: false, del: false, search: false},
                {height: 200, reloadAfterSubmit: true}
        );

        // Add responsive to jqGrid
        $(window).bind('resize', function () {
            var width = $('.jqGrid_wrapper').width();
            $('#table_list').setGridWidth(width);
        });
	});
</script>
</html>
